---
# Example AgentRun
apiVersion: k8sclaw.io/v1alpha1
kind: AgentRun
metadata:
  name: alice-run-001
  namespace: default
spec:
  instanceRef: alice
  agentID: primary
  sessionKey: "session-abc123"
  task: "Review the latest pull request and provide feedback on code quality"
  model:
    name: gpt-4o
    provider: openai
    # baseURL: https://api.githubcopilot.com  # uncomment for GitHub Copilot
    # baseURL: http://ollama.default.svc:11434/v1  # uncomment for Ollama
    maxTokens: 128000
  sandbox:
    enabled: true
    image: ghcr.io/alexsjones/k8sclaw/sandbox:latest
  skills:
    - code-review
  toolPolicy:
    allowed:
      - read_file
      - grep_search
      - list_dir
    denied:
      - exec_command
    requireApproval:
      - write_file
  timeout: "10m"
  cleanup: OnFailure
