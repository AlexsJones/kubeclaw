---
# Example ClawPolicy
apiVersion: k8sclaw.io/v1alpha1
kind: ClawPolicy
metadata:
  name: default-policy
  namespace: default
spec:
  toolGating:
    defaultAction: allow
    rules:
      - tool: exec_command
        action: ask
      - tool: write_file
        action: allow
        conditions:
          maxCallsPerRun: 100
      - tool: network_request
        action: deny
  execGating:
    allowShell: true
    allowedCommands:
      - git
      - npm
      - go
      - python
      - make
    deniedCommands:
      - rm -rf /
      - curl
      - wget
    maxExecTime: "30s"
  subagentPolicy:
    maxDepth: 3
    maxConcurrent: 5
    inheritTools: true
  sandboxPolicy:
    required: false
    defaultImage: ghcr.io/k8sclaw/sandbox:latest
    maxCPU: "4"
    maxMemory: 8Gi
  mountPolicy:
    allowHostPath: false
    allowedPaths:
      - /workspace
      - /tmp
  featureGates:
    browser-automation: false
    code-execution: true
    file-access: true
    sub-agents: true
    mcp-servers: false
